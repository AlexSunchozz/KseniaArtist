<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/religious.min.css">
    <title>Релизиозное искусство</title>
</head>
<body>
    <div class="wrapper">
        <!-- @@include('_header.html') -->
        <header class="header">
            <div class="header-container">
                <div class="header__logo"><a href="index.html"><img src="./img/logoBlack.svg" class="svg" alt="xenia-artist"></a></div>
                <nav class="menu header__menu">
                    <ul class="menu__list">
                        <li class="menu__list-item"><a href="painting.html">Живопись</a></li>
                        <li class="menu__list-item"><a href="religious.html">Христианское искусство</a></li>
                        <li class="menu__list-item"><a href="mosaic.html">Мозаика</a></li>
                        <li class="menu__list-item"><a href="dpi.html">ДПИ</a></li>
                        <li class="menu__list-item"><a href="about.html">О художнике</a></li>
                    </ul>
                </nav>
                <div class="header-burger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </header>
        <div class="main">
            <div class="popup">
                <div class="popup__arrow-prev">
                    <span></span>
                    <span></span>
                </div>
                <div class="popup__content">
                    <div class="popup__content-text">fsafas</div>
                    <img src="" alt="" class="popup__content-img">
                </div>
                <div class="popup__arrow-next">
                    <span></span>
                    <span></span>
                </div>
                <div class="popup-close">
                    <span></span>
                    <span></span>
                </div>
            </div>
            <!-- С машстабированием -->
            <section class="religious">
                <div class="container religious-container">
                    <div class="religious-container__block religios-block">
                        <h2 class="title">Иконы</h2>
                        <div class="religious-block__container">
                            <div class="religious-block__item" data-width="30" data-height="40">
                                <div class="religious-block__item-image show-img icon">
                                    <img src="img/religiousPage/icons/1.jpg" alt="Пантократор
                                    левкас, яичная темпера 40x30, 2009">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Пантократор<br>
                                    левкас, яичная темпера 40x30, 2009
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="30" data-height="40">
                                <div class="religious-block__item-image show-img icon">
                                    <img src="img/religiousPage/icons/4.jpg" alt="Одигитрия
                                    левкас, яичная темпера 40x30, 2009">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Одигитрия<br>
                                    левкас, яичная темпера 40x30, 2009
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="30" data-height="40">
                                <div class="religious-block__item-image show-img icon">
                                    <img src="img/religiousPage/icons/6.jpg" alt="Крещение Господне
                                    левкас, яичная темпера 40x30, 2008 ">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Крещение Господне<br>
                                    левкас, яичная темпера 40x30, 2008  
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="30" data-height="40">
                                <div class="religious-block__item-image show-img icon">
                                    <img src="img/religiousPage/icons/7.jpg" alt="Св. Иоанн Богослов в молчании
                                    левкас, яичная темпера 40x30, 2008">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Св. Иоанн Богослов в молчании<br>
                                    левкас, яичная темпера 40x30, 2008
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="30" data-height="40">
                                <div class="religious-block__item-image show-img icon">
                                    <img src="img/religiousPage/icons/8.jpg" alt="Св. Иоанн Кронштадский, фрагмент
                                    левкас, яичная темпера , 2008">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Св. Иоанн Кронштадский, фрагмент<br>
                                    левкас, яичная темпера , 2008
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="18" data-height="25">
                                <div class="religious-block__item-image show-img icon">
                                    <img src="img/religiousPage/icons/3.jpg" alt="Спас Нерукотворный
                                    левкас, яичная темпера 25x18, 2008">
                                </div>
                                <div class="religious-block__item-image-description">
                                    Спас Нерукотворный<br>
                                    левкас, яичная темпера 25x18, 2008
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="religious-container__block religios-block">
                        <h2 class="title">Живопись</h2>
                        <div class="religious-block__container">
                            <div class="religious-block__item" data-width="65" data-height="120">
                                <div class="religious-block__item-image show-img paint">
                                    <img src="img/religiousPage/paint/1.png" alt="Победная песнь
                                    холст, акрил, масло 120х65, 2011">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Победная песнь<br>
                                    холст, акрил, масло 120х65, 2011
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="92" data-height="81">
                                <div class="religious-block__item-image show-img paint">
                                    <img src="img/religiousPage/paint/2.png" alt="Выше всех смыслов 1
                                    холст, акрил, масло 81х92, 2010">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Выше всех смыслов 1<br>
                                    холст, акрил, масло 81х92, 2010
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="100" data-height="120">
                                <div class="religious-block__item-image show-img paint">
                                    <img src="img/religiousPage/paint/3.png" alt='"Хвали, душе моя, Господа (пс. 145)"
                                    холст, акрил, масло 120х100, 2012'>
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    "Хвали, душе моя, Господа (пс. 145)"<br>
                                    холст, акрил, масло 120х100, 2012
                                </div>
                            </div>
                            <div class="religious-block__item" data-width="100" data-height="81">
                                <div class="religious-block__item-image show-img paint">
                                    <img src="img/religiousPage/paint/4.png" alt="Выше всех смыслов 2
                                    холст, акрил, масло 81х100, 2010">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Выше всех смыслов 2<br>
                                    холст, акрил, масло 81х100, 2010
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="religious-container__block religios-block">
                        <h2 class="title">Мозаика</h2>
                        <div class="religious-block__container">
                            <div class="religious-block__item">
                                <div class="religious-block__item-image show-img mosaic">
                                    <img src="img/religiousPage/paint/1.png" alt="Победная песнь
                                    холст, акрил, масло 120х65, 2011">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Победная песнь<br>
                                    холст, акрил, масло 120х65, 2011
                                </div>
                            </div>
                            <div class="religious-block__item">
                                <div class="religious-block__item-image show-img mosaic">
                                    <img src="img/religiousPage/paint/2.png" alt="Выше всех смыслов 1
                                    холст, акрил, масло 81х92, 2010">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Выше всех смыслов 1<br>
                                    холст, акрил, масло 81х92, 2010
                                </div>
                            </div>
                            <div class="religious-block__item">
                                <div class="religious-block__item-image show-img mosaic">
                                    <img src="img/religiousPage/paint/3.png" alt='"Хвали, душе моя, Господа (пс. 145)"
                                    холст, акрил, масло 120х100, 2012'>
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    "Хвали, душе моя, Господа (пс. 145)"<br>
                                    холст, акрил, масло 120х100, 2012
                                </div>
                            </div>
                            <div class="religious-block__item">
                                <div class="religious-block__item-image show-img mosaic">
                                    <img src="img/religiousPage/paint/4.png" alt="Выше всех смыслов 2
                                    холст, акрил, масло 81х100, 2010">
                                </div>
                                <div class="religious-block__item-image-description descr">
                                    Выше всех смыслов 2<br>
                                    холст, акрил, масло 81х100, 2010
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <footer class="footer">
            <div class="footer-container container">
                <div class="footer-container__row">
                    <div class="footer-container__row-logo"><a href="index.html"><img src="./img/logoBlack.svg" alt="xenia-artist"></a></div>
                    <div class="footer-container__row-representative representative">
                        <p class="representative__title">Представитель художника</p>
                        <p>Ольга Задонская</p>
                        <a href="tel:+79533725336" class="phone-link">+7(953)-372-53-36</a>
                    </div>
                    <div class="footer-container__row-mail mail">
                        <p class="mail__title">Электронная почта:</p>
                        <a href="mailto:xenia.artist@gmail.com" class="mail-link">xenia.artist@gmail.com</a>
                    </div>
                </div>
                <a href="#" class="footer-container__authors">Сайт выполнен Заблоцким В. А. и Репкиным А. С.</a>
                <a class="footer-container__privacy" href="#">© Политика конфиденциальности</a>
            </div>
        </footer>
        <!-- @@include('_footer.html') -->
    </div>
    <script src = "https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="js/slick.min.js"></script>
    <!-- <script src="js/script.js"></script> -->

    <script>
        function searchDescr(photo) {
            const parent = photo.parentElement;
            // console.log(parent)
            if (parent.children.length === 1) {
                return searchDescr(parent)
            } else {
                for (let i of parent.children) {
                    // if (i.classList.constains('descr')) {
                    //     // popupText.innerHTML='Vitya)';
                    //     console.log('dsadasdsafa');
                    //     return "dasd"
                    // }
                    if (i.classList.contains('descr')) {
                        console.log('uraaa')
                        return i.innerHTML
                    }
                    console.log(i.innerHTML)
                }
                // return searchDescr(parent)
            }
        }
        const popup = document.querySelector('.popup'),
              popupImg = popup.querySelector('.popup__content .popup__content-img'),
              popupText = popup.querySelector('.popup__content .popup__content-text'),
              popupNext = popup.querySelector('.popup__arrow-next'),
              popupPrev = popup.querySelector('.popup__arrow-prev'),
              popupClose = popup.querySelector('.popup-close'),
              photos = document.querySelectorAll('.show-img img'),
              body = document.querySelector('body')
        
              // открытие popup`a
        photos.forEach(item => {
            item.addEventListener('click',e => {
                popup.classList.add('show')
                body.classList.add('lock')
                item.classList.add('show')
                popupImg.src = item.src;
                searchDescr(item)
                popupText.innerHTML = searchDescr(item)
            })
        })
       
        // переход на след работу
        popupNext.addEventListener('click',() => {
            let photoIndex = 0;
            for (let photo of photos) {
                if (photo.classList.contains('show')) {
                    break;
                } else {
                    photoIndex += 1;
                }
            }
            photos.forEach(i => {
                i.classList.remove('show');
            })
            if (photoIndex === photos.length-1) {
                photos[0].classList.add('show');
            } else {
                photos[photoIndex+1].classList.add('show');
            }
            photos.forEach(i => {
                if (i.classList.contains('show')) {
                    popupImg.src = i.src;
                    popupText.innerHTML = searchDescr(i)

                }
            })
        })
        
        // переход на предидущий слайд 
        popupPrev.addEventListener('click',() => {
            let photoIndex = 0;
            for (let photo of photos) {
                if (photo.classList.contains('show')) {
                    break;
                } else {
                    photoIndex += 1;
                }
            }
            photos.forEach(i => {
                i.classList.remove('show');
            })
            if (photoIndex === 0) {
                photos[photos.length-1].classList.add('show');
            } else {
                photos[photoIndex-1].classList.add('show');
            }
            photos.forEach(i => {
                if (i.classList.contains('show')) {
                    popupImg.src = i.src;
                    popupText.innerHTML = searchDescr(i)
                }
            })
        })
        
        // закрытие popup`a
        popupClose.addEventListener('click', () => {
            popup.classList.remove('show');
            body.classList.remove('lock');
            photos.forEach(item => {
                item.classList.remove('show')
            })
        })
    
        images = document.querySelectorAll('.religious-block__item')
        images.forEach(item => {
            if(item.hasAttribute('data-width') && item.hasAttribute('data-height')) {
                let img = item.querySelector('.religious-block__item-image')
                if (img.classList.contains('icon')) {
                    img.style.width = item.getAttribute('data-width') * 10 + 'px'
                    img.style.height = item.getAttribute('data-height') * 10 + 'px'
                } else if (img.classList.contains('paint')) {
                    img.style.width = item.getAttribute('data-width') * 3 + 'px'
                    img.style.height = item.getAttribute('data-height') * 3 + 'px'
                }
            }
        })

    </script>
</body>
</html>