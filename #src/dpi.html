<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/dpi.min.css">
    <title>Релизиозное искусство</title>
</head>
<body>
    <div class="wrapper">
        <!-- @@include('_header.html') -->
        <header class="header">
            <div class="header-container">
                <div class="header__logo"><a href="index.html"><img src="./img/logoBlack.svg" class="svg" alt="xenia-artist"></a></div>
                <nav class="menu header__menu">
                    <ul class="menu__list">
                        <li class="menu__list-item"><a href="painting.html">Живопись</a></li>
                        <li class="menu__list-item"><a href="religious.html">Христианское искусство</a></li>
                        <li class="menu__list-item"><a href="mosaic.html">Мозаика</a></li>
                        <li class="menu__list-item"><a href="#">ДПИ</a></li>
                        <li class="menu__list-item"><a href="about.html">О художнике</a></li>
                    </ul>
                </nav>
                <div class="header-burger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </header>
        <div class="main">
            <div class="popup">
                <div class="popup__arrow-prev">
                    <span></span>
                    <span></span>
                </div>
                <div class="popup__content">
                    <div class="popup__content-text"></div>
                    <img src="" alt="" class="popup__content-img">
                </div>
                <div class="popup__arrow-next">
                    <span></span>
                    <span></span>
                </div>
                <div class="popup-close">
                    <span></span>
                    <span></span>
                </div>
            </div>
            <section class="dpi">
                <div class="container dpi-container">
                    <h1 class="title">Декоративно-прикладное искусство</h1>
                    <div class="dpi__container-row">
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/1.jpg" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Кот-рыболов <br />дерево, масло , 2005
                            </div>
                        </div>
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/2.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Мастер <br />дерево, масло , 2009
                            </div>
                        </div>
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/3.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Сам не ожидал! <br />дерево, масло , 2011
                            </div>
                        </div>                        
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/1.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Кот-рыболов <br />дерево, масло , 2005
                            </div>
                        </div>
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/2.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Мастер <br />дерево, масло , 2009
                            </div>
                        </div>
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/3.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Сам не ожидал! <br />дерево, масло , 2011
                            </div>
                        </div>                        
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/1.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Кот-рыболов <br />дерево, масло , 2005
                            </div>
                        </div>
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/2.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Мастер <br />дерево, масло , 2009
                            </div>
                        </div>
                        <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg show-img">
                                    <img src="./img/ДПИ/3.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Сам не ожидал! <br />дерево, масло , 2011
                            </div>
                        </div>                        
                        <!-- <div class="dpi__container-item">
                            <div class="item-dpi">
                                <div class="item-dpi__image _ibg">
                                    <img src="./img/ДПИ/3.png" alt="Декоративно-прикладное искусство">
                                </div>
                            </div>
                            <div class="item-dpi__descr">
                                Сам не ожидал! <br />дерево, масло , 2011
                            </div>
                        </div>                         -->
                    </div>
                </div>
            </section>
        </div>
        <footer class="footer">
            <div class="footer-container container">
                <div class="footer-container__row">
                    <div class="footer-container__row-logo"><a href="index.html"><img src="./img/logoBlack.svg" alt="xenia-artist"></a></div>
                    <div class="footer-container__row-representative representative">
                        <p class="representative__title">Представитель художника</p>
                        <p>Ольга Задонская</p>
                        <a href="tel:+79533725336" class="phone-link">+7(953)-372-53-36</a>
                    </div>
                    <div class="footer-container__row-mail mail">
                        <p class="mail__title">Электронная почта:</p>
                        <a href="mailto:xenia.artist@gmail.com" class="mail-link">xenia.artist@gmail.com</a>
                    </div>
                </div>
                <a href="#" class="footer-container__authors">Сайт выполнен Заблоцким В. А. и Репкиным А. С.</a>
                <a class="footer-container__privacy" href="#">© Политика конфиденциальности</a>
            </div>
        </footer>
        <!-- @@include('_footer.html') -->
    </div>
    <script src = "https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/script.js"></script>
    <script>
        function searchDescr(photo) {
            const parent = photo.parentElement;
            // console.log(parent)
            if (parent.children.length === 1) {
                return searchDescr(parent)
            } else {
                for (let i of parent.children) {
                    // if (i.classList.constains('descr')) {
                    //     // popupText.innerHTML='Vitya)';
                    //     console.log('dsadasdsafa');
                    //     return "dasd"
                    // }
                    if (i.classList.contains('descr')) {
                        console.log('uraaa')
                    }
                    console.log(i)
                }
                // return searchDescr(parent)
            }
        }
        const popup = document.querySelector('.popup'),
              popupImg = popup.querySelector('.popup__content .popup__content-img'),
              popupText = popup.querySelector('.popup__content .popup__content-text'),
              popupNext = popup.querySelector('.popup__arrow-next'),
              popupPrev = popup.querySelector('.popup__arrow-prev'),
              popupClose = popup.querySelector('.popup-close'),
              photos = document.querySelectorAll('.show-img img')
            //   photos = document.querySelectorAll('.religious-block__item-image img')
        // открытие popup`a
        photos.forEach(item => {
            item.addEventListener('click',e => {
                popup.classList.add('show');
                body.classList.add('lock');
                item.classList.add('show')
                popupImg.src = item.src;
                searchDescr(item)
            })
        })
        // переход на след работу
        popupNext.addEventListener('click',() => {
            let photoIndex = 0;
            for (let photo of photos) {
                if (photo.classList.contains('show')) {
                    break;
                } else {
                    photoIndex += 1;
                }
            }
            photos.forEach(i => {
                i.classList.remove('show');
            })
            if (photoIndex === photos.length-1) {
                photos[0].classList.add('show');
            } else {
                photos[photoIndex+1].classList.add('show');
            }
            photos.forEach(i => {
                if (i.classList.contains('show')) {
                    popupImg.src = i.src;
                }
            })
        })
        // 
        popupPrev.addEventListener('click',() => {
            let photoIndex = 0;
            for (let photo of photos) {
                if (photo.classList.contains('show')) {
                    break;
                } else {
                    photoIndex += 1;
                }
            }
            photos.forEach(i => {
                i.classList.remove('show');
            })
            if (photoIndex === 0) {
                photos[photos.length-1].classList.add('show');
            } else {
                photos[photoIndex-1].classList.add('show');
            }
            photos.forEach(i => {
                if (i.classList.contains('show')) {
                    popupImg.src = i.src;
                }
            })
        })
        // закрытие popup`a
        popupClose.addEventListener('click', () => {
            popup.classList.remove('show');
            body.classList.remove('lock');
            photos.forEach(item => {
                item.classList.remove('show')
            })
        })
    
    </script>
</body>
</html>